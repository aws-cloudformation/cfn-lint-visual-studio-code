{
  "typeName": "AWS::Bedrock::DataSource",
  "description": "Definition of AWS::Bedrock::DataSource Resource Type",
  "sourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-resource-providers-aps",
  "definitions": {
    "BedrockFoundationModelConfiguration": {
      "type": "object",
      "description": "Settings for a foundation model used to parse documents for a data source.",
      "properties": {
        "ModelArn": {
          "type": "string",
          "maxLength": 2048,
          "minLength": 1,
          "description": "The model's ARN.",
          "markdownDescription": "The model's ARN.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 2048  \nPattern: ^arn:aws(-[^:]+)?:bedrock:[a-z0-9-]{1,20}::foundation-model/([a-z0-9-]{1,63}[.]{1}[a-z0-9-]{1,63}([.]?[a-z0-9-]{1,63})([:][a-z0-9-]{1,63}){0,2})|(arn:aws(|-us-gov|-cn|-iso|-iso-b):bedrock:(|[0-9a-z-]{1,20}):(|[0-9]{12}):(inference-profile|application-inference-profile)/[a-zA-Z0-9-:.]+)$  \nUpdate requires: No interruption\n"
        },
        "ParsingPrompt": {
          "$ref": "#/definitions/ParsingPrompt"
        },
        "ParsingModality": {
          "$ref": "#/definitions/ParsingModality"
        }
      },
      "required": [
        "ModelArn"
      ],
      "additionalProperties": false,
      "markdownDescription": "Settings for a foundation model used to parse documents for a data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ChunkingConfiguration": {
      "type": "object",
      "description": "Details about how to chunk the documents in the data source. A chunk refers to an excerpt from a data source that is returned when the knowledge base that it belongs to is queried.",
      "properties": {
        "ChunkingStrategy": {
          "$ref": "#/definitions/ChunkingStrategy"
        },
        "FixedSizeChunkingConfiguration": {
          "$ref": "#/definitions/FixedSizeChunkingConfiguration"
        },
        "HierarchicalChunkingConfiguration": {
          "$ref": "#/definitions/HierarchicalChunkingConfiguration"
        },
        "SemanticChunkingConfiguration": {
          "$ref": "#/definitions/SemanticChunkingConfiguration"
        }
      },
      "required": [
        "ChunkingStrategy"
      ],
      "additionalProperties": false,
      "markdownDescription": "Details about how to chunk the documents in the data source. A chunk refers to an excerpt from a data source that is returned when the knowledge base that it belongs to is queried.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ChunkingStrategy": {
      "type": "string",
      "description": "Knowledge base can split your source data into chunks. A chunk refers to an excerpt from a data source that is returned when the knowledge base that it belongs to is queried. You have the following options for chunking your data. If you opt for NONE, then you may want to pre-process your files by splitting them up such that each file corresponds to a chunk.",
      "enum": [
        "FIXED_SIZE",
        "NONE",
        "HIERARCHICAL",
        "SEMANTIC"
      ],
      "markdownDescription": "Knowledge base can split your source data into chunks. A chunk refers to an excerpt from a data source that is returned when the knowledge base that it belongs to is queried. You have the following options for chunking your data. If you opt for NONE, then you may want to pre-process your files by splitting them up such that each file corresponds to a chunk.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: FIXED_SIZE | NONE | HIERARCHICAL | SEMANTIC  \nUpdate requires: No interruption\n"
    },
    "CustomTransformationConfiguration": {
      "type": "object",
      "description": "Settings for customizing steps in the data source content ingestion pipeline.",
      "properties": {
        "IntermediateStorage": {
          "$ref": "#/definitions/IntermediateStorage"
        },
        "Transformations": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/Transformation"
          },
          "maxItems": 1,
          "minItems": 1,
          "description": "A list of Lambda functions that process documents.",
          "insertionOrder": false,
          "markdownDescription": "A list of Lambda functions that process documents.\n\n---\n\nRequired: Yes  \nType: Array  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "IntermediateStorage",
        "Transformations"
      ],
      "additionalProperties": false,
      "markdownDescription": "Settings for customizing steps in the data source content ingestion pipeline.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "DataSourceConfiguration": {
      "type": "object",
      "description": "Specifies a raw data source location to ingest.",
      "properties": {
        "Type": {
          "$ref": "#/definitions/DataSourceType"
        },
        "S3Configuration": {
          "$ref": "#/definitions/S3DataSourceConfiguration"
        },
        "ConfluenceConfiguration": {
          "$ref": "#/definitions/ConfluenceDataSourceConfiguration"
        },
        "SalesforceConfiguration": {
          "$ref": "#/definitions/SalesforceDataSourceConfiguration"
        },
        "SharePointConfiguration": {
          "$ref": "#/definitions/SharePointDataSourceConfiguration"
        },
        "WebConfiguration": {
          "$ref": "#/definitions/WebDataSourceConfiguration"
        }
      },
      "required": [
        "Type"
      ],
      "additionalProperties": false,
      "markdownDescription": "Specifies a raw data source location to ingest.\n\n---\n\nRequired: No  \nUpdate requires: Replacement\n"
    },
    "DataSourceStatus": {
      "type": "string",
      "description": "The status of a data source.",
      "enum": [
        "AVAILABLE",
        "DELETING",
        "DELETE_UNSUCCESSFUL"
      ],
      "markdownDescription": "The status of a data source.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: AVAILABLE | DELETING | DELETE_UNSUCCESSFUL  \nUpdate requires: No interruption\n"
    },
    "DataSourceType": {
      "type": "string",
      "description": "The type of the data source location.",
      "enum": [
        "S3",
        "CONFLUENCE",
        "SALESFORCE",
        "SHAREPOINT",
        "WEB",
        "CUSTOM",
        "REDSHIFT_METADATA"
      ],
      "markdownDescription": "The type of the data source location.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: S3 | CONFLUENCE | SALESFORCE | SHAREPOINT | WEB | CUSTOM | REDSHIFT_METADATA  \nUpdate requires: No interruption\n"
    },
    "DataDeletionPolicy": {
      "type": "string",
      "description": "The deletion policy for the data source.",
      "enum": [
        "RETAIN",
        "DELETE"
      ],
      "markdownDescription": "The deletion policy for the data source.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: RETAIN | DELETE  \nUpdate requires: No interruption\n"
    },
    "FixedSizeChunkingConfiguration": {
      "type": "object",
      "description": "Configurations for when you choose fixed-size chunking. If you set the chunkingStrategy as NONE, exclude this field.",
      "properties": {
        "MaxTokens": {
          "type": "integer",
          "minimum": 1,
          "description": "The maximum number of tokens to include in a chunk.",
          "markdownDescription": "The maximum number of tokens to include in a chunk.\n\n---\n\nRequired: Yes  \nType: Integer  \nUpdate requires: No interruption\n"
        },
        "OverlapPercentage": {
          "type": "integer",
          "maximum": 99,
          "minimum": 1,
          "description": "The percentage of overlap between adjacent chunks of a data source.",
          "markdownDescription": "The percentage of overlap between adjacent chunks of a data source.\n\n---\n\nRequired: Yes  \nType: Integer  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "MaxTokens",
        "OverlapPercentage"
      ],
      "additionalProperties": false,
      "markdownDescription": "Configurations for when you choose fixed-size chunking. If you set the chunkingStrategy as NONE, exclude this field.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "HierarchicalChunkingConfiguration": {
      "type": "object",
      "description": "Configurations for when you choose hierarchical chunking. If you set the chunkingStrategy as NONE, exclude this field.",
      "properties": {
        "LevelConfigurations": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/HierarchicalChunkingLevelConfiguration"
          },
          "maxItems": 2,
          "minItems": 2,
          "description": "Token settings for each layer.",
          "insertionOrder": false,
          "markdownDescription": "Token settings for each layer.\n\n---\n\nRequired: Yes  \nType: Array  \nUpdate requires: No interruption\n"
        },
        "OverlapTokens": {
          "type": "integer",
          "minimum": 1,
          "description": "The number of tokens to repeat across chunks in the same layer.",
          "markdownDescription": "The number of tokens to repeat across chunks in the same layer.\n\n---\n\nRequired: Yes  \nType: Integer  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "LevelConfigurations",
        "OverlapTokens"
      ],
      "additionalProperties": false,
      "markdownDescription": "Configurations for when you choose hierarchical chunking. If you set the chunkingStrategy as NONE, exclude this field.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "HierarchicalChunkingLevelConfiguration": {
      "type": "object",
      "description": "Token settings for a layer in a hierarchical chunking configuration.",
      "properties": {
        "MaxTokens": {
          "type": "integer",
          "minimum": 1,
          "maximum": 8192,
          "description": "The maximum number of tokens that a chunk can contain in this layer.",
          "markdownDescription": "The maximum number of tokens that a chunk can contain in this layer.\n\n---\n\nRequired: Yes  \nType: Integer  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "MaxTokens"
      ],
      "additionalProperties": false,
      "markdownDescription": "Token settings for a layer in a hierarchical chunking configuration.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "IntermediateStorage": {
      "type": "object",
      "description": "A location for storing content from data sources temporarily as it is processed by custom components in the ingestion pipeline.",
      "properties": {
        "S3Location": {
          "$ref": "#/definitions/S3Location"
        }
      },
      "required": [
        "S3Location"
      ],
      "additionalProperties": false,
      "markdownDescription": "A location for storing content from data sources temporarily as it is processed by custom components in the ingestion pipeline.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ParsingConfiguration": {
      "type": "object",
      "description": "Settings for parsing document contents",
      "properties": {
        "ParsingStrategy": {
          "$ref": "#/definitions/ParsingStrategy"
        },
        "BedrockFoundationModelConfiguration": {
          "$ref": "#/definitions/BedrockFoundationModelConfiguration"
        },
        "BedrockDataAutomationConfiguration": {
          "$ref": "#/definitions/BedrockDataAutomationConfiguration"
        }
      },
      "required": [
        "ParsingStrategy"
      ],
      "additionalProperties": false,
      "markdownDescription": "Settings for parsing document contents\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ParsingModality": {
      "type": "string",
      "description": "Determine how will parsed content be stored.",
      "enum": [
        "MULTIMODAL"
      ],
      "markdownDescription": "Determine how will parsed content be stored.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: MULTIMODAL  \nUpdate requires: No interruption\n"
    },
    "BedrockDataAutomationConfiguration": {
      "type": "object",
      "description": "Settings for a Bedrock Data Automation used to parse documents for a data source.",
      "properties": {
        "ParsingModality": {
          "$ref": "#/definitions/ParsingModality"
        }
      },
      "additionalProperties": false,
      "markdownDescription": "Settings for a Bedrock Data Automation used to parse documents for a data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ParsingPrompt": {
      "type": "object",
      "description": "Instructions for interpreting the contents of a document.",
      "properties": {
        "ParsingPromptText": {
          "type": "string",
          "maxLength": 10000,
          "minLength": 1,
          "description": "Instructions for interpreting the contents of a document.",
          "markdownDescription": "Instructions for interpreting the contents of a document.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 10000  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "ParsingPromptText"
      ],
      "additionalProperties": false,
      "markdownDescription": "Instructions for interpreting the contents of a document.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ParsingStrategy": {
      "type": "string",
      "description": "The parsing strategy for the data source.",
      "enum": [
        "BEDROCK_FOUNDATION_MODEL",
        "BEDROCK_DATA_AUTOMATION"
      ],
      "markdownDescription": "The parsing strategy for the data source.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: BEDROCK_FOUNDATION_MODEL | BEDROCK_DATA_AUTOMATION  \nUpdate requires: No interruption\n"
    },
    "S3DataSourceConfiguration": {
      "type": "object",
      "description": "The configuration information to connect to Amazon S3 as your data source.",
      "properties": {
        "BucketArn": {
          "type": "string",
          "maxLength": 2048,
          "minLength": 1,
          "description": "The ARN of the bucket that contains the data source.",
          "markdownDescription": "The ARN of the bucket that contains the data source.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 2048  \nPattern: ^arn:aws(|-cn|-us-gov):s3:::[a-z0-9][a-z0-9.-]{1,61}[a-z0-9]$  \nUpdate requires: No interruption\n"
        },
        "InclusionPrefixes": {
          "type": "array",
          "items": {
            "type": "string",
            "maxLength": 300,
            "minLength": 1,
            "description": "Prefix for s3 object.",
            "markdownDescription": "Prefix for s3 object.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 300  \nUpdate requires: No interruption\n"
          },
          "maxItems": 1,
          "minItems": 1,
          "description": "A list of S3 prefixes that define the object containing the data sources.",
          "insertionOrder": false,
          "markdownDescription": "A list of S3 prefixes that define the object containing the data sources.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption\n"
        },
        "BucketOwnerAccountId": {
          "type": "string",
          "maxLength": 12,
          "minLength": 12,
          "description": "The account ID for the owner of the S3 bucket.",
          "markdownDescription": "The account ID for the owner of the S3 bucket.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 12  \nMaximum Length: 12  \nPattern: ^[0-9]{12}$  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "BucketArn"
      ],
      "additionalProperties": false,
      "markdownDescription": "The configuration information to connect to Amazon S3 as your data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ConfluenceDataSourceConfiguration": {
      "type": "object",
      "description": "The configuration information to connect to Confluence as your data source.",
      "properties": {
        "SourceConfiguration": {
          "$ref": "#/definitions/ConfluenceSourceConfiguration"
        },
        "CrawlerConfiguration": {
          "$ref": "#/definitions/ConfluenceCrawlerConfiguration"
        }
      },
      "required": [
        "SourceConfiguration"
      ],
      "additionalProperties": false,
      "markdownDescription": "The configuration information to connect to Confluence as your data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SalesforceDataSourceConfiguration": {
      "type": "object",
      "description": "The configuration information to connect to Salesforce as your data source.",
      "properties": {
        "SourceConfiguration": {
          "$ref": "#/definitions/SalesforceSourceConfiguration"
        },
        "CrawlerConfiguration": {
          "$ref": "#/definitions/SalesforceCrawlerConfiguration"
        }
      },
      "required": [
        "SourceConfiguration"
      ],
      "additionalProperties": false,
      "markdownDescription": "The configuration information to connect to Salesforce as your data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SharePointDataSourceConfiguration": {
      "type": "object",
      "description": "The configuration information to connect to SharePoint as your data source.",
      "properties": {
        "SourceConfiguration": {
          "$ref": "#/definitions/SharePointSourceConfiguration"
        },
        "CrawlerConfiguration": {
          "$ref": "#/definitions/SharePointCrawlerConfiguration"
        }
      },
      "required": [
        "SourceConfiguration"
      ],
      "additionalProperties": false,
      "markdownDescription": "The configuration information to connect to SharePoint as your data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "WebDataSourceConfiguration": {
      "type": "object",
      "description": "Configures a web data source location.",
      "properties": {
        "SourceConfiguration": {
          "$ref": "#/definitions/WebSourceConfiguration"
        },
        "CrawlerConfiguration": {
          "$ref": "#/definitions/WebCrawlerConfiguration"
        }
      },
      "required": [
        "SourceConfiguration"
      ],
      "additionalProperties": false,
      "markdownDescription": "Configures a web data source location.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "S3Location": {
      "type": "object",
      "description": "An Amazon S3 location.",
      "properties": {
        "URI": {
          "type": "string",
          "maxLength": 2048,
          "minLength": 1,
          "description": "The location's URI",
          "markdownDescription": "The location's URI\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 2048  \nPattern: ^s3://.{1,128}$  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "URI"
      ],
      "additionalProperties": false,
      "markdownDescription": "An Amazon S3 location.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SemanticChunkingConfiguration": {
      "type": "object",
      "description": "Configurations for when you choose semantic chunking. If you set the chunkingStrategy as NONE, exclude this field.",
      "properties": {
        "BreakpointPercentileThreshold": {
          "type": "integer",
          "minimum": 50,
          "maximum": 99,
          "description": "The dissimilarity threshold for splitting chunks.",
          "markdownDescription": "The dissimilarity threshold for splitting chunks.\n\n---\n\nRequired: Yes  \nType: Integer  \nUpdate requires: No interruption\n"
        },
        "BufferSize": {
          "type": "integer",
          "minimum": 0,
          "maximum": 1,
          "description": "The buffer size.",
          "markdownDescription": "The buffer size.\n\n---\n\nRequired: Yes  \nType: Integer  \nUpdate requires: No interruption\n"
        },
        "MaxTokens": {
          "type": "integer",
          "minimum": 1,
          "description": "The maximum number of tokens that a chunk can contain.",
          "markdownDescription": "The maximum number of tokens that a chunk can contain.\n\n---\n\nRequired: Yes  \nType: Integer  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "BreakpointPercentileThreshold",
        "BufferSize",
        "MaxTokens"
      ],
      "additionalProperties": false,
      "markdownDescription": "Configurations for when you choose semantic chunking. If you set the chunkingStrategy as NONE, exclude this field.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ServerSideEncryptionConfiguration": {
      "type": "object",
      "description": "Contains details about the server-side encryption for the data source.",
      "properties": {
        "KmsKeyArn": {
          "type": "string",
          "maxLength": 2048,
          "minLength": 1,
          "description": "The ARN of the AWS KMS key used to encrypt the resource.",
          "markdownDescription": "The ARN of the AWS KMS key used to encrypt the resource.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 2048  \nPattern: ^arn:aws(|-cn|-us-gov):kms:[a-zA-Z0-9-]*:[0-9]{12}:key/[a-zA-Z0-9-]{36}$  \nUpdate requires: No interruption\n"
        }
      },
      "additionalProperties": false,
      "markdownDescription": "Contains details about the server-side encryption for the data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "Transformation": {
      "type": "object",
      "description": "A Lambda function that processes documents.",
      "properties": {
        "StepToApply": {
          "type": "string",
          "description": "When the service applies the transformation.",
          "enum": [
            "POST_CHUNKING"
          ],
          "markdownDescription": "When the service applies the transformation.\n\n---\n\nRequired: Yes  \nType: String  \nAllowed Values: POST_CHUNKING  \nUpdate requires: No interruption\n"
        },
        "TransformationFunction": {
          "$ref": "#/definitions/TransformationFunction"
        }
      },
      "required": [
        "StepToApply",
        "TransformationFunction"
      ],
      "additionalProperties": false,
      "markdownDescription": "A Lambda function that processes documents.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "TransformationFunction": {
      "type": "object",
      "description": "A Lambda function that processes documents.",
      "properties": {
        "TransformationLambdaConfiguration": {
          "$ref": "#/definitions/TransformationLambdaConfiguration"
        }
      },
      "required": [
        "TransformationLambdaConfiguration"
      ],
      "additionalProperties": false,
      "markdownDescription": "A Lambda function that processes documents.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "TransformationLambdaConfiguration": {
      "type": "object",
      "description": "A Lambda function that processes documents.",
      "properties": {
        "LambdaArn": {
          "type": "string",
          "maxLength": 2048,
          "minLength": 0,
          "description": "The function's ARN identifier.",
          "markdownDescription": "The function's ARN identifier.\n\n---\n\nRequired: Yes  \nType: String  \nMaximum Length: 2048  \nPattern: ^arn:(aws[a-zA-Z-]*)?:lambda:[a-z]{2}(-gov)?-[a-z]+-\\d{1}:\\d{12}:function:[a-zA-Z0-9-_\\.]+(:(\\$LATEST|[a-zA-Z0-9-_]+))?$  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "LambdaArn"
      ],
      "additionalProperties": false,
      "markdownDescription": "A Lambda function that processes documents.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "VectorIngestionConfiguration": {
      "type": "object",
      "description": "Details about how to chunk the documents in the data source. A chunk refers to an excerpt from a data source that is returned when the knowledge base that it belongs to is queried.",
      "properties": {
        "ChunkingConfiguration": {
          "$ref": "#/definitions/ChunkingConfiguration"
        },
        "CustomTransformationConfiguration": {
          "$ref": "#/definitions/CustomTransformationConfiguration"
        },
        "ParsingConfiguration": {
          "$ref": "#/definitions/ParsingConfiguration"
        }
      },
      "additionalProperties": false,
      "markdownDescription": "Details about how to chunk the documents in the data source. A chunk refers to an excerpt from a data source that is returned when the knowledge base that it belongs to is queried.\n\n---\n\nRequired: No  \nUpdate requires: Replacement\n"
    },
    "ConfluenceSourceConfiguration": {
      "type": "object",
      "description": "The endpoint information to connect to your Confluence data source.",
      "properties": {
        "HostUrl": {
          "type": "string",
          "maxLength": 2048,
          "minLength": 1,
          "description": "The Confluence host URL or instance URL.",
          "markdownDescription": "The Confluence host URL or instance URL.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 2048  \nPattern: ^https://[A-Za-z0-9][^\\s]*$  \nUpdate requires: No interruption\n"
        },
        "HostType": {
          "type": "string",
          "description": "The supported host type, whether online/cloud or server/on-premises.",
          "enum": [
            "SAAS"
          ],
          "markdownDescription": "The supported host type, whether online/cloud or server/on-premises.\n\n---\n\nRequired: Yes  \nType: String  \nAllowed Values: SAAS  \nUpdate requires: No interruption\n"
        },
        "AuthType": {
          "type": "string",
          "description": "The supported authentication type to authenticate and connect to your Confluence instance.",
          "enum": [
            "BASIC",
            "OAUTH2_CLIENT_CREDENTIALS"
          ],
          "markdownDescription": "The supported authentication type to authenticate and connect to your Confluence instance.\n\n---\n\nRequired: Yes  \nType: String  \nAllowed Values: BASIC | OAUTH2_CLIENT_CREDENTIALS  \nUpdate requires: No interruption\n"
        },
        "CredentialsSecretArn": {
          "type": "string",
          "description": "The Amazon Resource Name of an AWS Secrets Manager secret that stores your authentication credentials for your Confluence instance URL. For more information on the key-value pairs that must be included in your secret, depending on your authentication type, see Confluence connection configuration.",
          "markdownDescription": "The Amazon Resource Name of an AWS Secrets Manager secret that stores your authentication credentials for your Confluence instance URL. For more information on the key-value pairs that must be included in your secret, depending on your authentication type, see Confluence connection configuration.\n\n---\n\nRequired: Yes  \nType: String  \nPattern: ^arn:aws(|-cn|-us-gov):secretsmanager:[a-z0-9-]{1,20}:([0-9]{12}|):secret:[a-zA-Z0-9!/_+=.@-]{1,512}$  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "HostUrl",
        "HostType",
        "AuthType",
        "CredentialsSecretArn"
      ],
      "additionalProperties": false,
      "markdownDescription": "The endpoint information to connect to your Confluence data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "ConfluenceCrawlerConfiguration": {
      "type": "object",
      "description": "The configuration of the Confluence content. For example, configuring specific types of Confluence content.",
      "properties": {
        "FilterConfiguration": {
          "$ref": "#/definitions/CrawlFilterConfiguration"
        }
      },
      "additionalProperties": false,
      "markdownDescription": "The configuration of the Confluence content. For example, configuring specific types of Confluence content.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SalesforceSourceConfiguration": {
      "type": "object",
      "description": "The endpoint information to connect to your Salesforce data source.",
      "properties": {
        "HostUrl": {
          "type": "string",
          "maxLength": 2048,
          "minLength": 1,
          "description": "The Salesforce host URL or instance URL.",
          "markdownDescription": "The Salesforce host URL or instance URL.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 2048  \nPattern: ^https://[A-Za-z0-9][^\\s]*$  \nUpdate requires: No interruption\n"
        },
        "AuthType": {
          "type": "string",
          "description": "The supported authentication type to authenticate and connect to your Salesforce instance.",
          "enum": [
            "OAUTH2_CLIENT_CREDENTIALS"
          ],
          "markdownDescription": "The supported authentication type to authenticate and connect to your Salesforce instance.\n\n---\n\nRequired: Yes  \nType: String  \nAllowed Values: OAUTH2_CLIENT_CREDENTIALS  \nUpdate requires: No interruption\n"
        },
        "CredentialsSecretArn": {
          "type": "string",
          "description": "The Amazon Resource Name of an AWS Secrets Manager secret that stores your authentication credentials for your Salesforce instance URL. For more information on the key-value pairs that must be included in your secret, depending on your authentication type, see Salesforce connection configuration.",
          "markdownDescription": "The Amazon Resource Name of an AWS Secrets Manager secret that stores your authentication credentials for your Salesforce instance URL. For more information on the key-value pairs that must be included in your secret, depending on your authentication type, see Salesforce connection configuration.\n\n---\n\nRequired: Yes  \nType: String  \nPattern: ^arn:aws(|-cn|-us-gov):secretsmanager:[a-z0-9-]{1,20}:([0-9]{12}|):secret:[a-zA-Z0-9!/_+=.@-]{1,512}$  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "HostUrl",
        "AuthType",
        "CredentialsSecretArn"
      ],
      "additionalProperties": false,
      "markdownDescription": "The endpoint information to connect to your Salesforce data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SalesforceCrawlerConfiguration": {
      "type": "object",
      "description": "The configuration of filtering the Salesforce content. For example, configuring regular expression patterns to include or exclude certain content.",
      "properties": {
        "FilterConfiguration": {
          "$ref": "#/definitions/CrawlFilterConfiguration"
        }
      },
      "additionalProperties": false,
      "markdownDescription": "The configuration of filtering the Salesforce content. For example, configuring regular expression patterns to include or exclude certain content.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SharePointSourceConfiguration": {
      "type": "object",
      "description": "The endpoint information to connect to your SharePoint data source.",
      "properties": {
        "SiteUrls": {
          "type": "array",
          "description": "A list of one or more SharePoint site URLs.",
          "items": {
            "type": "string",
            "description": "A forced-HTTPS web url.",
            "markdownDescription": "A forced-HTTPS web url.\n\n---\n\nRequired: No  \nType: String  \nPattern: ^https://[A-Za-z0-9][^\\s]*$  \nUpdate requires: No interruption\n"
          },
          "maxItems": 100,
          "minItems": 1,
          "insertionOrder": false,
          "markdownDescription": "A list of one or more SharePoint site URLs.\n\n---\n\nRequired: Yes  \nType: Array  \nUpdate requires: No interruption\n"
        },
        "HostType": {
          "type": "string",
          "description": "The supported host type, whether online/cloud or server/on-premises.",
          "enum": [
            "ONLINE"
          ],
          "markdownDescription": "The supported host type, whether online/cloud or server/on-premises.\n\n---\n\nRequired: Yes  \nType: String  \nAllowed Values: ONLINE  \nUpdate requires: No interruption\n"
        },
        "AuthType": {
          "type": "string",
          "description": "The supported authentication type to authenticate and connect to your SharePoint site/sites.",
          "enum": [
            "OAUTH2_CLIENT_CREDENTIALS"
          ],
          "markdownDescription": "The supported authentication type to authenticate and connect to your SharePoint site/sites.\n\n---\n\nRequired: Yes  \nType: String  \nAllowed Values: OAUTH2_CLIENT_CREDENTIALS  \nUpdate requires: No interruption\n"
        },
        "CredentialsSecretArn": {
          "type": "string",
          "description": "The Amazon Resource Name of an AWS Secrets Manager secret that stores your authentication credentials for your SharePoint site/sites. For more information on the key-value pairs that must be included in your secret, depending on your authentication type, see SharePoint connection configuration.",
          "markdownDescription": "The Amazon Resource Name of an AWS Secrets Manager secret that stores your authentication credentials for your SharePoint site/sites. For more information on the key-value pairs that must be included in your secret, depending on your authentication type, see SharePoint connection configuration.\n\n---\n\nRequired: Yes  \nType: String  \nPattern: ^arn:aws(|-cn|-us-gov):secretsmanager:[a-z0-9-]{1,20}:([0-9]{12}|):secret:[a-zA-Z0-9!/_+=.@-]{1,512}$  \nUpdate requires: No interruption\n"
        },
        "TenantId": {
          "type": "string",
          "description": "The identifier of your Microsoft 365 tenant.",
          "markdownDescription": "The identifier of your Microsoft 365 tenant.\n\n---\n\nRequired: No  \nType: String  \nPattern: ^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$  \nUpdate requires: No interruption\n"
        },
        "Domain": {
          "type": "string",
          "description": "The domain of your SharePoint instance or site URL/URLs.",
          "maxLength": 50,
          "minLength": 1,
          "markdownDescription": "The domain of your SharePoint instance or site URL/URLs.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 50  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "Domain",
        "SiteUrls",
        "HostType",
        "AuthType",
        "CredentialsSecretArn"
      ],
      "additionalProperties": false,
      "markdownDescription": "The endpoint information to connect to your SharePoint data source.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SharePointCrawlerConfiguration": {
      "type": "object",
      "description": "The configuration of the SharePoint content. For example, configuring specific types of SharePoint content.",
      "properties": {
        "FilterConfiguration": {
          "$ref": "#/definitions/CrawlFilterConfiguration"
        }
      },
      "additionalProperties": false,
      "markdownDescription": "The configuration of the SharePoint content. For example, configuring specific types of SharePoint content.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "WebSourceConfiguration": {
      "type": "object",
      "description": "A web source configuration.",
      "properties": {
        "UrlConfiguration": {
          "$ref": "#/definitions/UrlConfiguration"
        }
      },
      "required": [
        "UrlConfiguration"
      ],
      "additionalProperties": false,
      "markdownDescription": "A web source configuration.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "UrlConfiguration": {
      "type": "object",
      "description": "A url configuration.",
      "properties": {
        "SeedUrls": {
          "$ref": "#/definitions/SeedUrls"
        }
      },
      "required": [
        "SeedUrls"
      ],
      "additionalProperties": false,
      "markdownDescription": "A url configuration.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SeedUrl": {
      "type": "object",
      "description": "A seed url object.",
      "properties": {
        "Url": {
          "type": "string",
          "description": "A web url.",
          "markdownDescription": "A web url.\n\n---\n\nRequired: Yes  \nType: String  \nPattern: ^https?://[A-Za-z0-9][^\\s]*$  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "Url"
      ],
      "additionalProperties": false,
      "markdownDescription": "A seed url object.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "SeedUrls": {
      "type": "array",
      "description": "A list of web urls.",
      "items": {
        "$ref": "#/definitions/SeedUrl"
      },
      "maxItems": 100,
      "minItems": 1,
      "insertionOrder": false,
      "markdownDescription": "A list of web urls.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption\n"
    },
    "WebCrawlerConfiguration": {
      "type": "object",
      "description": "Configuration for the web crawler.",
      "properties": {
        "CrawlerLimits": {
          "$ref": "#/definitions/WebCrawlerLimits"
        },
        "InclusionFilters": {
          "$ref": "#/definitions/FilterList"
        },
        "ExclusionFilters": {
          "$ref": "#/definitions/FilterList"
        },
        "Scope": {
          "$ref": "#/definitions/WebScopeType"
        }
      },
      "additionalProperties": false,
      "markdownDescription": "Configuration for the web crawler.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "WebCrawlerLimits": {
      "type": "object",
      "description": "Limit settings for the web crawler.",
      "properties": {
        "RateLimit": {
          "type": "integer",
          "minimum": 1,
          "maximum": 300,
          "description": "Rate of web URLs retrieved per minute.",
          "markdownDescription": "Rate of web URLs retrieved per minute.\n\n---\n\nRequired: No  \nType: Integer  \nUpdate requires: No interruption\n"
        }
      },
      "additionalProperties": false,
      "markdownDescription": "Limit settings for the web crawler.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "WebScopeType": {
      "type": "string",
      "description": "The scope that a web crawl job will be restricted to.",
      "enum": [
        "HOST_ONLY",
        "SUBDOMAINS"
      ],
      "markdownDescription": "The scope that a web crawl job will be restricted to.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: HOST_ONLY | SUBDOMAINS  \nUpdate requires: No interruption\n"
    },
    "CrawlFilterConfiguration": {
      "type": "object",
      "description": "The type of filtering that you want to apply to certain objects or content of the data source. For example, the PATTERN type is regular expression patterns you can apply to filter your content.",
      "properties": {
        "Type": {
          "type": "string",
          "description": "The crawl filter type.",
          "enum": [
            "PATTERN"
          ],
          "markdownDescription": "The crawl filter type.\n\n---\n\nRequired: Yes  \nType: String  \nAllowed Values: PATTERN  \nUpdate requires: No interruption\n"
        },
        "PatternObjectFilter": {
          "$ref": "#/definitions/PatternObjectFilterConfiguration"
        }
      },
      "required": [
        "Type"
      ],
      "additionalProperties": false,
      "markdownDescription": "The type of filtering that you want to apply to certain objects or content of the data source. For example, the PATTERN type is regular expression patterns you can apply to filter your content.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "PatternObjectFilterConfiguration": {
      "type": "object",
      "description": "The configuration of specific filters applied to your data source content. You can filter out or include certain content.",
      "properties": {
        "Filters": {
          "$ref": "#/definitions/PatternObjectFilterList"
        }
      },
      "required": [
        "Filters"
      ],
      "additionalProperties": false,
      "markdownDescription": "The configuration of specific filters applied to your data source content. You can filter out or include certain content.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "PatternObjectFilterList": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/PatternObjectFilter"
      },
      "maxItems": 25,
      "minItems": 1,
      "description": "Contains information",
      "markdownDescription": "Contains information\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption\n"
    },
    "PatternObjectFilter": {
      "type": "object",
      "description": "The specific filters applied to your data source content. You can filter out or include certain content.",
      "properties": {
        "ObjectType": {
          "type": "string",
          "maxLength": 50,
          "minLength": 1,
          "description": "The supported object type or content type of the data source.",
          "markdownDescription": "The supported object type or content type of the data source.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 50  \nUpdate requires: No interruption\n"
        },
        "InclusionFilters": {
          "$ref": "#/definitions/FilterList"
        },
        "ExclusionFilters": {
          "$ref": "#/definitions/FilterList"
        }
      },
      "required": [
        "ObjectType"
      ],
      "additionalProperties": false,
      "markdownDescription": "The specific filters applied to your data source content. You can filter out or include certain content.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "FilterList": {
      "type": "array",
      "description": "A set of regular expression filter patterns for a type of object.",
      "items": {
        "type": "string",
        "maxLength": 1000,
        "description": "A list of one or more inclusion/exclusion regular expression patterns to include certain object types that adhere to the pattern. If you specify an inclusion and exclusion filter/pattern and both match a document, the exclusion filter takes precedence and the document isn't crawled.",
        "markdownDescription": "A list of one or more inclusion/exclusion regular expression patterns to include certain object types that adhere to the pattern. If you specify an inclusion and exclusion filter/pattern and both match a document, the exclusion filter takes precedence and the document isn't crawled.\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 1000  \nUpdate requires: No interruption\n"
      },
      "maxItems": 25,
      "minItems": 1,
      "insertionOrder": false,
      "markdownDescription": "A set of regular expression filter patterns for a type of object.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption\n"
    }
  },
  "properties": {
    "DataSourceConfiguration": {
      "$ref": "#/definitions/DataSourceConfiguration"
    },
    "DataSourceId": {
      "type": "string",
      "description": "Identifier for a resource.",
      "markdownDescription": "Identifier for a resource.\n\n---\n\nRequired: No  \nType: String  \nPattern: ^[0-9a-zA-Z]{10}$  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "Description": {
      "type": "string",
      "maxLength": 200,
      "minLength": 1,
      "description": "Description of the Resource.",
      "markdownDescription": "Description of the Resource.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 200  \nUpdate requires: No interruption\n"
    },
    "KnowledgeBaseId": {
      "type": "string",
      "description": "The unique identifier of the knowledge base to which to add the data source.",
      "markdownDescription": "The unique identifier of the knowledge base to which to add the data source.\n\n---\n\nRequired: Yes  \nType: String  \nPattern: ^[0-9a-zA-Z]{10}$  \nUpdate requires: Replacement\n"
    },
    "DataSourceStatus": {
      "$ref": "#/definitions/DataSourceStatus"
    },
    "Name": {
      "type": "string",
      "description": "The name of the data source.",
      "markdownDescription": "The name of the data source.\n\n---\n\nRequired: Yes  \nType: String  \nPattern: ^([0-9a-zA-Z][_-]?){1,100}$  \nUpdate requires: No interruption\n"
    },
    "ServerSideEncryptionConfiguration": {
      "$ref": "#/definitions/ServerSideEncryptionConfiguration"
    },
    "VectorIngestionConfiguration": {
      "$ref": "#/definitions/VectorIngestionConfiguration"
    },
    "DataDeletionPolicy": {
      "$ref": "#/definitions/DataDeletionPolicy"
    },
    "CreatedAt": {
      "type": "string",
      "description": "The time at which the data source was created.",
      "markdownDescription": "The time at which the data source was created.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "UpdatedAt": {
      "type": "string",
      "description": "The time at which the knowledge base was last updated.",
      "markdownDescription": "The time at which the knowledge base was last updated.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "FailureReasons": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 2048,
        "description": "Failure Reason for Error.",
        "markdownDescription": "Failure Reason for Error.\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 2048  \nUpdate requires: No interruption\n"
      },
      "maxItems": 2048,
      "description": "The details of the failure reasons related to the data source.",
      "insertionOrder": false,
      "markdownDescription": "The details of the failure reasons related to the data source.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption\nRead only property: Yes"
    }
  },
  "required": [
    "DataSourceConfiguration",
    "Name",
    "KnowledgeBaseId"
  ],
  "readOnlyProperties": [
    "/properties/DataSourceId",
    "/properties/DataSourceStatus",
    "/properties/CreatedAt",
    "/properties/UpdatedAt",
    "/properties/FailureReasons"
  ],
  "createOnlyProperties": [
    "/properties/KnowledgeBaseId",
    "/properties/VectorIngestionConfiguration/ChunkingConfiguration",
    "/properties/VectorIngestionConfiguration/ParsingConfiguration",
    "/properties/DataSourceConfiguration/Type"
  ],
  "primaryIdentifier": [
    "/properties/KnowledgeBaseId",
    "/properties/DataSourceId"
  ],
  "tagging": {
    "taggable": false,
    "cloudFormationSystemTags": false
  },
  "handlers": {
    "create": {
      "permissions": [
        "bedrock:CreateDataSource",
        "bedrock:GetDataSource",
        "bedrock:GetKnowledgeBase"
      ]
    },
    "read": {
      "permissions": [
        "bedrock:GetDataSource"
      ]
    },
    "update": {
      "permissions": [
        "bedrock:GetDataSource",
        "bedrock:UpdateDataSource"
      ]
    },
    "delete": {
      "permissions": [
        "bedrock:GetDataSource",
        "bedrock:DeleteDataSource"
      ]
    },
    "list": {
      "permissions": [
        "bedrock:ListDataSources"
      ],
      "handlerSchema": {
        "properties": {
          "KnowledgeBaseId": {
            "$ref": "resource-schema.json#/properties/KnowledgeBaseId"
          }
        },
        "required": [
          "KnowledgeBaseId"
        ]
      }
    }
  },
  "additionalProperties": false,
  "attributes": {
    "DataSourceId": {
      "type": "string",
      "description": "Identifier for a resource.",
      "markdownDescription": "Identifier for a resource.\n\n---\n\nRequired: No  \nType: String  \nPattern: ^[0-9a-zA-Z]{10}$  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "DataSourceStatus": {
      "$ref": "#/definitions/DataSourceStatus"
    },
    "CreatedAt": {
      "type": "string",
      "description": "The time at which the data source was created.",
      "markdownDescription": "The time at which the data source was created.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "UpdatedAt": {
      "type": "string",
      "description": "The time at which the knowledge base was last updated.",
      "markdownDescription": "The time at which the knowledge base was last updated.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "FailureReasons": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 2048,
        "description": "Failure Reason for Error.",
        "markdownDescription": "Failure Reason for Error.\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 2048  \nUpdate requires: No interruption\n"
      },
      "maxItems": 2048,
      "description": "The details of the failure reasons related to the data source.",
      "insertionOrder": false,
      "markdownDescription": "The details of the failure reasons related to the data source.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption\nRead only property: Yes"
    }
  }
}