{
  "typeName": "AWS::Cases::CaseRule",
  "description": "A case rule. In the Amazon Connect admin website, case rules are known as case field conditions. Case rules are used to define the situations under which fields should have certain effects (such as required).",
  "sourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-rpdk.git",
  "definitions": {
    "BooleanCondition": {
      "description": "A boolean condition for a rule.",
      "oneOf": [
        {
          "type": "object",
          "title": "EqualTo",
          "properties": {
            "EqualTo": {
              "$ref": "#/definitions/BooleanOperands"
            }
          },
          "required": [
            "EqualTo"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "title": "NotEqualTo",
          "properties": {
            "NotEqualTo": {
              "$ref": "#/definitions/BooleanOperands"
            }
          },
          "required": [
            "NotEqualTo"
          ],
          "additionalProperties": false
        }
      ],
      "markdownDescription": "A boolean condition for a rule.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: No interruption\n"
    },
    "BooleanOperands": {
      "type": "object",
      "description": "Boolean operands for a condition.",
      "properties": {
        "OperandOne": {
          "$ref": "#/definitions/OperandOne"
        },
        "OperandTwo": {
          "$ref": "#/definitions/OperandTwo"
        },
        "Result": {
          "type": "boolean",
          "description": "The value of the outer rule if the condition evaluates to true.",
          "markdownDescription": "The value of the outer rule if the condition evaluates to true.\n\n---\n\nRequired: Yes  \nType: Boolean  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "OperandOne",
        "OperandTwo",
        "Result"
      ],
      "additionalProperties": false,
      "markdownDescription": "Boolean operands for a condition.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "CaseRuleDetails": {
      "description": "Defines the rule behavior and conditions. Specifies the rule type and the conditions under which it applies. In the Amazon Connect admin website, this corresponds to case field conditions.",
      "oneOf": [
        {
          "type": "object",
          "title": "Required",
          "properties": {
            "Required": {
              "$ref": "#/definitions/RequiredCaseRule"
            }
          },
          "required": [
            "Required"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "title": "Hidden",
          "properties": {
            "Hidden": {
              "$ref": "#/definitions/HiddenCaseRule"
            }
          },
          "required": [
            "Hidden"
          ],
          "additionalProperties": false
        }
      ],
      "markdownDescription": "Defines the rule behavior and conditions. Specifies the rule type and the conditions under which it applies. In the Amazon Connect admin website, this corresponds to case field conditions.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: No interruption\n"
    },
    "EmptyOperandValue": {
      "type": "object",
      "description": "An empty operand value.",
      "additionalProperties": false,
      "markdownDescription": "An empty operand value.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "OperandOne": {
      "description": "The left hand operand in the condition.",
      "oneOf": [
        {
          "type": "object",
          "title": "FieldId",
          "properties": {
            "FieldId": {
              "type": "string",
              "maxLength": 500,
              "minLength": 1,
              "description": "The field ID this operand should take the value of."
            }
          },
          "required": [
            "FieldId"
          ],
          "additionalProperties": false
        }
      ],
      "markdownDescription": "The left hand operand in the condition.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: No interruption\n"
    },
    "OperandTwo": {
      "description": "The right hand operand in the condition.",
      "oneOf": [
        {
          "type": "object",
          "title": "StringValue",
          "properties": {
            "StringValue": {
              "type": "string",
              "maxLength": 1500,
              "minLength": 1,
              "description": "A string value to compare against the field value in the condition evaluation."
            }
          },
          "required": [
            "StringValue"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "title": "BooleanValue",
          "properties": {
            "BooleanValue": {
              "type": "boolean",
              "description": "A boolean value to compare against the field value in the condition evaluation."
            }
          },
          "required": [
            "BooleanValue"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "title": "DoubleValue",
          "properties": {
            "DoubleValue": {
              "type": "number",
              "description": "A numeric value to compare against the field value in the condition evaluation."
            }
          },
          "required": [
            "DoubleValue"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "title": "EmptyValue",
          "properties": {
            "EmptyValue": {
              "$ref": "#/definitions/EmptyOperandValue"
            }
          },
          "required": [
            "EmptyValue"
          ],
          "additionalProperties": false
        }
      ],
      "markdownDescription": "The right hand operand in the condition.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: No interruption\n"
    },
    "RequiredCaseRule": {
      "type": "object",
      "description": "A required rule type, used to indicate whether a field is required.",
      "properties": {
        "DefaultValue": {
          "type": "boolean",
          "description": "The default required state for the field when none of the specified conditions are met. If true, the field is required by default; if false, the field is optional by default.",
          "markdownDescription": "The default required state for the field when none of the specified conditions are met. If true, the field is required by default; if false, the field is optional by default.\n\n---\n\nRequired: Yes  \nType: Boolean  \nUpdate requires: No interruption\n"
        },
        "Conditions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BooleanCondition"
          },
          "maxItems": 100,
          "description": "An ordered list of boolean conditions that determine when the field should be required. Conditions are evaluated in order, and the first condition that evaluates to true determines whether the field is required, overriding the default value.",
          "markdownDescription": "An ordered list of boolean conditions that determine when the field should be required. Conditions are evaluated in order, and the first condition that evaluates to true determines whether the field is required, overriding the default value.\n\n---\n\nRequired: Yes  \nType: Array  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "Conditions",
        "DefaultValue"
      ],
      "additionalProperties": false,
      "markdownDescription": "A required rule type, used to indicate whether a field is required.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "HiddenCaseRule": {
      "type": "object",
      "description": "Hidden rule type, used to indicate whether a field is hidden",
      "properties": {
        "DefaultValue": {
          "type": "boolean",
          "description": "The value of the rule (i.e. whether the field is hidden) should none of the conditions evaluate to true",
          "markdownDescription": "The value of the rule (i.e. whether the field is hidden) should none of the conditions evaluate to true\n\n---\n\nRequired: Yes  \nType: Boolean  \nUpdate requires: No interruption\n"
        },
        "Conditions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/BooleanCondition"
          },
          "maxItems": 100,
          "description": "List of conditions for the hidden rule; the first condition to evaluate to true dictates the value of the rule",
          "markdownDescription": "List of conditions for the hidden rule; the first condition to evaluate to true dictates the value of the rule\n\n---\n\nRequired: Yes  \nType: Array  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "Conditions",
        "DefaultValue"
      ],
      "additionalProperties": false,
      "markdownDescription": "Hidden rule type, used to indicate whether a field is hidden\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    },
    "Tag": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Key": {
          "description": "The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.",
          "type": "string",
          "minLength": 1,
          "maxLength": 128,
          "markdownDescription": "The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 128  \nPattern: ^(?!aws:)[a-zA-Z+-=._:/]+$  \nUpdate requires: No interruption\n"
        },
        "Value": {
          "description": "The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.",
          "type": "string",
          "minLength": 0,
          "maxLength": 256,
          "markdownDescription": "The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.\n\n---\n\nRequired: Yes  \nType: String  \nMaximum Length: 256  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "Value",
        "Key"
      ],
      "markdownDescription": "\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    }
  },
  "properties": {
    "CaseRuleArn": {
      "type": "string",
      "maxLength": 500,
      "minLength": 1,
      "description": "The Amazon Resource Name (ARN) of a case rule.",
      "markdownDescription": "The Amazon Resource Name (ARN) of a case rule.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 500  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "CaseRuleId": {
      "type": "string",
      "maxLength": 500,
      "minLength": 1,
      "description": "The unique identifier of a case rule.",
      "markdownDescription": "The unique identifier of a case rule.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 500  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "Description": {
      "type": "string",
      "maxLength": 255,
      "description": "A description explaining the purpose and behavior of this case rule. Helps administrators understand when and why this rule applies to case fields.",
      "markdownDescription": "A description explaining the purpose and behavior of this case rule. Helps administrators understand when and why this rule applies to case fields.\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 255  \nUpdate requires: No interruption\n"
    },
    "DomainId": {
      "type": "string",
      "maxLength": 500,
      "minLength": 1,
      "description": "The unique identifier of the Cases domain.",
      "markdownDescription": "The unique identifier of the Cases domain.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 500  \nUpdate requires: Replacement\n"
    },
    "Name": {
      "type": "string",
      "maxLength": 100,
      "minLength": 1,
      "description": "A descriptive name for the case rule. Must be unique within the domain and should clearly indicate the rule's purpose (e.g., 'Priority Field Required for Urgent Cases').",
      "markdownDescription": "A descriptive name for the case rule. Must be unique within the domain and should clearly indicate the rule's purpose (e.g., 'Priority Field Required for Urgent Cases').\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 100  \nPattern: ^.*[\\S]$  \nUpdate requires: No interruption\n"
    },
    "Rule": {
      "$ref": "#/definitions/CaseRuleDetails"
    },
    "CreatedTime": {
      "type": "string",
      "description": "The time at which the case rule was created.",
      "format": "date-time",
      "markdownDescription": "The time at which the case rule was created.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "LastModifiedTime": {
      "type": "string",
      "description": "The time at which the case rule was created or last modified.",
      "format": "date-time",
      "markdownDescription": "The time at which the case rule was created or last modified.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "Tags": {
      "type": "array",
      "description": "The tags that you attach to this case rule.",
      "uniqueItems": false,
      "insertionOrder": false,
      "items": {
        "$ref": "#/definitions/Tag"
      },
      "markdownDescription": "The tags that you attach to this case rule.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption\n"
    }
  },
  "required": [
    "Name",
    "Rule"
  ],
  "readOnlyProperties": [
    "/properties/CaseRuleId",
    "/properties/CreatedTime",
    "/properties/LastModifiedTime",
    "/properties/CaseRuleArn"
  ],
  "createOnlyProperties": [
    "/properties/DomainId"
  ],
  "primaryIdentifier": [
    "/properties/CaseRuleArn"
  ],
  "handlers": {
    "create": {
      "permissions": [
        "cases:CreateCaseRule",
        "cases:BatchGetCaseRule",
        "cases:TagResource"
      ]
    },
    "update": {
      "permissions": [
        "cases:UpdateCaseRule",
        "cases:BatchGetCaseRule",
        "cases:TagResource",
        "cases:UntagResource"
      ]
    },
    "delete": {
      "permissions": [
        "cases:DeleteCaseRule",
        "cases:UntagResource"
      ]
    },
    "list": {
      "permissions": [
        "cases:ListCaseRules"
      ],
      "handlerSchema": {
        "properties": {
          "DomainId": {
            "$ref": "resource-schema.json#/properties/DomainId"
          }
        },
        "required": [
          "DomainId"
        ]
      }
    },
    "read": {
      "permissions": [
        "cases:BatchGetCaseRule"
      ]
    }
  },
  "additionalProperties": false,
  "tagging": {
    "taggable": true,
    "tagOnCreate": false,
    "tagUpdatable": true,
    "cloudFormationSystemTags": true,
    "tagProperty": "/properties/Tags",
    "permissions": [
      "cases:BatchGetCaseRule",
      "cases:TagResource",
      "cases:UntagResource"
    ]
  },
  "attributes": {
    "CaseRuleArn": {
      "type": "string",
      "maxLength": 500,
      "minLength": 1,
      "description": "The Amazon Resource Name (ARN) of a case rule.",
      "markdownDescription": "The Amazon Resource Name (ARN) of a case rule.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 500  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "CaseRuleId": {
      "type": "string",
      "maxLength": 500,
      "minLength": 1,
      "description": "The unique identifier of a case rule.",
      "markdownDescription": "The unique identifier of a case rule.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 500  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "CreatedTime": {
      "type": "string",
      "description": "The time at which the case rule was created.",
      "format": "date-time",
      "markdownDescription": "The time at which the case rule was created.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "LastModifiedTime": {
      "type": "string",
      "description": "The time at which the case rule was created or last modified.",
      "format": "date-time",
      "markdownDescription": "The time at which the case rule was created or last modified.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    }
  }
}