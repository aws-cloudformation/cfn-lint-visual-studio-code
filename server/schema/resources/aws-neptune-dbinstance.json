{
  "typeName": "AWS::Neptune::DBInstance",
  "description": "The AWS::Neptune::DBInstance resource creates an Amazon Neptune DB instance.",
  "sourceUrl": "https://github.com/aws-cloudformation/aws-cloudformation-rpdk.git",
  "definitions": {
    "Tag": {
      "description": "A key-value pair to associate with a resource.",
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Key": {
          "type": "string",
          "description": "The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -. ",
          "markdownDescription": "The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -. \n\n---\n\nRequired: Yes  \nType: String  \nUpdate requires: No interruption\n"
        },
        "Value": {
          "type": "string",
          "description": "The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -. ",
          "markdownDescription": "The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -. \n\n---\n\nRequired: Yes  \nType: String  \nUpdate requires: No interruption\n"
        }
      },
      "required": [
        "Key",
        "Value"
      ],
      "markdownDescription": "A key-value pair to associate with a resource.\n\n---\n\nRequired: No  \nUpdate requires: No interruption\n"
    }
  },
  "properties": {
    "AllowMajorVersionUpgrade": {
      "type": "boolean",
      "description": "Indicates that major version upgrades are allowed. Changing this parameter doesn't result in an outage and the change is asynchronously applied as soon as possible. This parameter must be set to true when specifying a value for the EngineVersion parameter that is a different major version than the DB instance's current version.",
      "markdownDescription": "Indicates that major version upgrades are allowed. Changing this parameter doesn't result in an outage and the change is asynchronously applied as soon as possible. This parameter must be set to true when specifying a value for the EngineVersion parameter that is a different major version than the DB instance's current version.\n\n---\n\nRequired: No  \nType: Boolean  \nUpdate requires: No interruption\n"
    },
    "AutoMinorVersionUpgrade": {
      "type": "boolean",
      "description": "Indicates that minor version patches are applied automatically.\n\nWhen updating this property, some interruptions may occur.",
      "markdownDescription": "Indicates that minor version patches are applied automatically.\n\nWhen updating this property, some interruptions may occur.\n\n---\n\nRequired: No  \nType: Boolean  \nUpdate requires: Some interruptions\n"
    },
    "AvailabilityZone": {
      "type": "string",
      "description": "Specifies the name of the Availability Zone the DB instance is located in.",
      "markdownDescription": "Specifies the name of the Availability Zone the DB instance is located in.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: Replacement\n"
    },
    "DBClusterIdentifier": {
      "type": "string",
      "description": "If the DB instance is a member of a DB cluster, contains the name of the DB cluster that the DB instance is a member of.",
      "markdownDescription": "If the DB instance is a member of a DB cluster, contains the name of the DB cluster that the DB instance is a member of.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: Replacement\n"
    },
    "DBInstanceClass": {
      "type": "string",
      "description": "Contains the name of the compute and memory capacity class of the DB instance.\n\nIf you update this property, some interruptions may occur.",
      "markdownDescription": "Contains the name of the compute and memory capacity class of the DB instance.\n\nIf you update this property, some interruptions may occur.\n\n---\n\nRequired: Yes  \nType: String  \nUpdate requires: No interruption\n"
    },
    "DBInstanceIdentifier": {
      "type": "string",
      "description": "Contains a user-supplied database identifier. This identifier is the unique key that identifies a DB instance.",
      "markdownDescription": "Contains a user-supplied database identifier. This identifier is the unique key that identifies a DB instance.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: Replacement\n"
    },
    "DBParameterGroupName": {
      "type": "string",
      "description": "The name of an existing DB parameter group or a reference to an AWS::Neptune::DBParameterGroup resource created in the template. If any of the data members of the referenced parameter group are changed during an update, the DB instance might need to be restarted, which causes some interruption. If the parameter group contains static parameters, whether they were changed or not, an update triggers a reboot.",
      "markdownDescription": "The name of an existing DB parameter group or a reference to an AWS::Neptune::DBParameterGroup resource created in the template. If any of the data members of the referenced parameter group are changed during an update, the DB instance might need to be restarted, which causes some interruption. If the parameter group contains static parameters, whether they were changed or not, an update triggers a reboot.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: Some interruptions\n"
    },
    "DBSnapshotIdentifier": {
      "type": "string",
      "description": "This parameter is not supported.\n\n`AWS::Neptune::DBInstance` does not support restoring from snapshots.\n\n`AWS::Neptune::DBCluster` does support restoring from snapshots.\n\n",
      "markdownDescription": "This parameter is not supported.\n\n`AWS::Neptune::DBInstance` does not support restoring from snapshots.\n\n`AWS::Neptune::DBCluster` does support restoring from snapshots.\n\n\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: Replacement\n"
    },
    "DBSubnetGroupName": {
      "type": "string",
      "description": "A DB subnet group to associate with the DB instance. If you update this value, the new subnet group must be a subnet group in a new virtual private cloud (VPC).",
      "markdownDescription": "A DB subnet group to associate with the DB instance. If you update this value, the new subnet group must be a subnet group in a new virtual private cloud (VPC).\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: Replacement\n"
    },
    "Endpoint": {
      "type": "string",
      "description": "The connection endpoint for the database. For example: `mystack-mydb-1apw1j4phylrk.cg034hpkmmjt.us-east-2.rds.amazonaws.com`.",
      "markdownDescription": "The connection endpoint for the database. For example: `mystack-mydb-1apw1j4phylrk.cg034hpkmmjt.us-east-2.rds.amazonaws.com`.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "PreferredMaintenanceWindow": {
      "type": "string",
      "description": "Specifies the weekly time range during which system maintenance can occur, in Universal Coordinated Time (UTC).",
      "markdownDescription": "Specifies the weekly time range during which system maintenance can occur, in Universal Coordinated Time (UTC).\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: Some interruptions\n"
    },
    "Port": {
      "type": "string",
      "description": "The port number on which the database accepts connections. For example: `8182`.",
      "markdownDescription": "The port number on which the database accepts connections. For example: `8182`.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "Tags": {
      "type": "array",
      "insertionOrder": false,
      "uniqueItems": true,
      "items": {
        "$ref": "#/definitions/Tag"
      },
      "description": "An arbitrary set of tags (key-value pairs) for this DB instance.",
      "markdownDescription": "An arbitrary set of tags (key-value pairs) for this DB instance.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption\n"
    }
  },
  "additionalProperties": false,
  "required": [
    "DBInstanceClass"
  ],
  "deprecatedProperties": [
    "/properties/DBSnapshotIdentifier"
  ],
  "propertyTransform": {
    "/properties/DBClusterIdentifier": "$lowercase(DBClusterIdentifier)",
    "/properties/DBInstanceIdentifier": "$lowercase(DBInstanceIdentifier)",
    "/properties/DBParameterGroupName": "$lowercase(DBParameterGroupName)",
    "/properties/DBSubnetGroupName": "$lowercase(DBSubnetGroupName)",
    "/properties/DBSnapshotIdentifier": "$lowercase(DBSnapshotIdentifier)"
  },
  "createOnlyProperties": [
    "/properties/AvailabilityZone",
    "/properties/DBClusterIdentifier",
    "/properties/DBInstanceIdentifier",
    "/properties/DBSnapshotIdentifier",
    "/properties/DBSubnetGroupName"
  ],
  "conditionalCreateOnlyProperties": [
    "/properties/AutoMinorVersionUpgrade",
    "/properties/DBParameterGroupName",
    "/properties/PreferredMaintenanceWindow"
  ],
  "writeOnlyProperties": [
    "/properties/DBSnapshotIdentifier",
    "/properties/AllowMajorVersionUpgrade"
  ],
  "readOnlyProperties": [
    "/properties/Endpoint",
    "/properties/Port"
  ],
  "primaryIdentifier": [
    "/properties/DBInstanceIdentifier"
  ],
  "tagging": {
    "taggable": true,
    "tagOnCreate": true,
    "tagUpdatable": true,
    "cloudFormationSystemTags": true,
    "tagProperty": "/properties/Tags",
    "permissions": [
      "rds:AddTagsToResource",
      "rds:ListTagsForResource",
      "rds:RemoveTagsFromResource"
    ]
  },
  "handlers": {
    "create": {
      "permissions": [
        "ec2:DescribeAccountAttributes",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeInternetGateways",
        "iam:GetRole",
        "iam:ListRoles",
        "iam:PassRole",
        "rds:AddTagsToResource",
        "rds:CreateDBInstance",
        "rds:DescribeDBInstances",
        "rds:DescribeEvents",
        "rds:ListTagsForResource",
        "rds:ModifyDBInstance",
        "rds:RebootDBInstance",
        "iam:CreateServiceLinkedRole"
      ],
      "timeoutInMinutes": 2160
    },
    "read": {
      "permissions": [
        "ec2:DescribeAccountAttributes",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeInternetGateways",
        "rds:DescribeDBInstances",
        "rds:ListTagsForResource"
      ]
    },
    "update": {
      "permissions": [
        "ec2:DescribeAccountAttributes",
        "ec2:DescribeAvailabilityZones",
        "ec2:DescribeInternetGateways",
        "iam:GetRole",
        "iam:ListRoles",
        "iam:PassRole",
        "rds:AddTagsToResource",
        "rds:DescribeDBClusters",
        "rds:DescribeDBInstances",
        "rds:DescribeDBParameterGroups",
        "rds:DescribeEvents",
        "rds:ListTagsForResource",
        "rds:ModifyDBInstance",
        "rds:RebootDBInstance",
        "rds:RemoveTagsFromResource"
      ],
      "timeoutInMinutes": 2160
    },
    "delete": {
      "permissions": [
        "rds:AddTagsToResource",
        "rds:CreateDBSnapshot",
        "rds:DeleteDBInstance",
        "rds:DescribeDBInstances"
      ],
      "timeoutInMinutes": 2160
    },
    "list": {
      "permissions": [
        "rds:DescribeDBInstances",
        "rds:ListTagsForResource"
      ]
    }
  },
  "attributes": {
    "Endpoint": {
      "type": "string",
      "description": "The connection endpoint for the database. For example: `mystack-mydb-1apw1j4phylrk.cg034hpkmmjt.us-east-2.rds.amazonaws.com`.",
      "markdownDescription": "The connection endpoint for the database. For example: `mystack-mydb-1apw1j4phylrk.cg034hpkmmjt.us-east-2.rds.amazonaws.com`.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    },
    "Port": {
      "type": "string",
      "description": "The port number on which the database accepts connections. For example: `8182`.",
      "markdownDescription": "The port number on which the database accepts connections. For example: `8182`.\n\n---\n\nRequired: No  \nType: String  \nUpdate requires: No interruption\nRead only property: Yes"
    }
  }
}