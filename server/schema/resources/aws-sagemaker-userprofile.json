{
  "typeName": "AWS::SageMaker::UserProfile",
  "description": "Resource Type definition for AWS::SageMaker::UserProfile",
  "additionalProperties": false,
  "properties": {
    "DomainId": {
      "type": "string",
      "description": "The ID of the associated Domain.",
      "minLength": 1,
      "maxLength": 63,
      "markdownDescription": "The ID of the associated Domain.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 63  \nUpdate requires: Replacement"
    },
    "SingleSignOnUserIdentifier": {
      "type": "string",
      "description": "A specifier for the type of value specified in SingleSignOnUserValue. Currently, the only supported value is \"UserName\". If the Domain's AuthMode is SSO, this field is required. If the Domain's AuthMode is not SSO, this field cannot be specified.",
      "markdownDescription": "A specifier for the type of value specified in SingleSignOnUserValue. Currently, the only supported value is \"UserName\". If the Domain's AuthMode is SSO, this field is required. If the Domain's AuthMode is not SSO, this field cannot be specified.\n\n---\n\nRequired: No  \nType: String  \nPattern: UserName  \nUpdate requires: Replacement"
    },
    "SingleSignOnUserValue": {
      "type": "string",
      "description": "The username of the associated AWS Single Sign-On User for this UserProfile. If the Domain's AuthMode is SSO, this field is required, and must match a valid username of a user in your directory. If the Domain's AuthMode is not SSO, this field cannot be specified.",
      "minLength": 1,
      "maxLength": 256,
      "markdownDescription": "The username of the associated AWS Single Sign-On User for this UserProfile. If the Domain's AuthMode is SSO, this field is required, and must match a valid username of a user in your directory. If the Domain's AuthMode is not SSO, this field cannot be specified.\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 1  \nMaximum Length: 256  \nUpdate requires: Replacement"
    },
    "UserProfileName": {
      "type": "string",
      "description": "A name for the UserProfile.",
      "minLength": 1,
      "maxLength": 63,
      "markdownDescription": "A name for the UserProfile.\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 63  \nUpdate requires: Replacement"
    },
    "UserSettings": {
      "$ref": "#/definitions/UserSettings",
      "description": "A collection of settings.",
      "uniqueItems": false,
      "minItems": 0,
      "maxItems": 50,
      "markdownDescription": "A collection of settings.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: Replacement"
    },
    "Tags": {
      "type": "array",
      "description": "A list of tags to apply to the user profile.",
      "uniqueItems": false,
      "minItems": 0,
      "maxItems": 50,
      "items": {
        "$ref": "#/definitions/Tag"
      },
      "markdownDescription": "A list of tags to apply to the user profile.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: Replacement"
    }
  },
  "definitions": {
    "UserSettings": {
      "type": "object",
      "description": "A collection of settings that apply to users of Amazon SageMaker Studio. These settings are specified when the CreateUserProfile API is called, and as DefaultUserSettings when the CreateDomain API is called.",
      "additionalProperties": false,
      "properties": {
        "ExecutionRole": {
          "type": "string",
          "description": "The user profile Amazon Resource Name (ARN).",
          "minLength": 20,
          "maxLength": 2048,
          "markdownDescription": "The user profile Amazon Resource Name (ARN).\n\n---\n\nRequired: No  \nType: String  \nMinimum Length: 20  \nMaximum Length: 2048  \nPattern: ^arn:aws[a-z\\-]*:iam::\\d{12}:role/?[a-zA-Z_0-9+=,.@\\-_/]+$  \nUpdate requires: No interruption"
        },
        "JupyterServerAppSettings": {
          "$ref": "#/definitions/JupyterServerAppSettings",
          "description": "The Jupyter server's app settings.",
          "markdownDescription": "The Jupyter server's app settings.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: No interruption"
        },
        "KernelGatewayAppSettings": {
          "$ref": "#/definitions/KernelGatewayAppSettings",
          "description": "The kernel gateway app settings.",
          "markdownDescription": "The kernel gateway app settings.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: No interruption"
        },
        "RStudioServerProAppSettings": {
          "$ref": "#/definitions/RStudioServerProAppSettings"
        },
        "SecurityGroups": {
          "type": "array",
          "description": "The security groups for the Amazon Virtual Private Cloud (VPC) that Studio uses for communication.",
          "uniqueItems": false,
          "minItems": 0,
          "maxItems": 5,
          "items": {
            "type": "string",
            "maxLength": 32,
            "markdownDescription": "\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 32  \nPattern: [-0-9a-zA-Z]+  \nUpdate requires: No interruption"
          },
          "markdownDescription": "The security groups for the Amazon Virtual Private Cloud (VPC) that Studio uses for communication.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption"
        },
        "SharingSettings": {
          "$ref": "#/definitions/SharingSettings",
          "description": "The sharing settings.",
          "markdownDescription": "The sharing settings.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: No interruption"
        }
      },
      "markdownDescription": "A collection of settings that apply to users of Amazon SageMaker Studio. These settings are specified when the CreateUserProfile API is called, and as DefaultUserSettings when the CreateDomain API is called.\n\n---\n\nRequired: No  \nUpdate requires: Replacement"
    },
    "JupyterServerAppSettings": {
      "type": "object",
      "description": "The JupyterServer app settings.",
      "additionalProperties": false,
      "properties": {
        "DefaultResourceSpec": {
          "$ref": "#/definitions/ResourceSpec"
        }
      },
      "markdownDescription": "The JupyterServer app settings.\n\n---\n\nRequired: No  \nUpdate requires: No interruption"
    },
    "ResourceSpec": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "InstanceType": {
          "type": "string",
          "description": "The instance type that the image version runs on.",
          "enum": [
            "system",
            "ml.t3.micro",
            "ml.t3.small",
            "ml.t3.medium",
            "ml.t3.large",
            "ml.t3.xlarge",
            "ml.t3.2xlarge",
            "ml.m5.large",
            "ml.m5.xlarge",
            "ml.m5.2xlarge",
            "ml.m5.4xlarge",
            "ml.m5.8xlarge",
            "ml.m5.12xlarge",
            "ml.m5.16xlarge",
            "ml.m5.24xlarge",
            "ml.c5.large",
            "ml.c5.xlarge",
            "ml.c5.2xlarge",
            "ml.c5.4xlarge",
            "ml.c5.9xlarge",
            "ml.c5.12xlarge",
            "ml.c5.18xlarge",
            "ml.c5.24xlarge",
            "ml.p3.2xlarge",
            "ml.p3.8xlarge",
            "ml.p3.16xlarge",
            "ml.g4dn.xlarge",
            "ml.g4dn.2xlarge",
            "ml.g4dn.4xlarge",
            "ml.g4dn.8xlarge",
            "ml.g4dn.12xlarge",
            "ml.g4dn.16xlarge",
            "ml.r5.large",
            "ml.r5.xlarge",
            "ml.r5.2xlarge",
            "ml.r5.4xlarge",
            "ml.r5.8xlarge",
            "ml.r5.12xlarge",
            "ml.r5.16xlarge",
            "ml.r5.24xlarge",
            "ml.p3dn.24xlarge",
            "ml.m5d.large",
            "ml.m5d.xlarge",
            "ml.m5d.2xlarge",
            "ml.m5d.4xlarge",
            "ml.m5d.8xlarge",
            "ml.m5d.12xlarge",
            "ml.m5d.16xlarge",
            "ml.m5d.24xlarge",
            "ml.g5.xlarge",
            "ml.g5.2xlarge",
            "ml.g5.4xlarge",
            "ml.g5.8xlarge",
            "ml.g5.12xlarge",
            "ml.g5.16xlarge",
            "ml.g5.24xlarge",
            "ml.g5.48xlarge",
            "ml.p4d.24xlarge",
            "ml.p4de.24xlarge",
            "ml.geospatial.interactive"
          ],
          "markdownDescription": "The instance type that the image version runs on.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: system | ml.t3.micro | ml.t3.small | ml.t3.medium | ml.t3.large | ml.t3.xlarge | ml.t3.2xlarge | ml.m5.large | ml.m5.xlarge | ml.m5.2xlarge | ml.m5.4xlarge | ml.m5.8xlarge | ml.m5.12xlarge | ml.m5.16xlarge | ml.m5.24xlarge | ml.c5.large | ml.c5.xlarge | ml.c5.2xlarge | ml.c5.4xlarge | ml.c5.9xlarge | ml.c5.12xlarge | ml.c5.18xlarge | ml.c5.24xlarge | ml.p3.2xlarge | ml.p3.8xlarge | ml.p3.16xlarge | ml.g4dn.xlarge | ml.g4dn.2xlarge | ml.g4dn.4xlarge | ml.g4dn.8xlarge | ml.g4dn.12xlarge | ml.g4dn.16xlarge | ml.r5.large | ml.r5.xlarge | ml.r5.2xlarge | ml.r5.4xlarge | ml.r5.8xlarge | ml.r5.12xlarge | ml.r5.16xlarge | ml.r5.24xlarge | ml.p3dn.24xlarge | ml.m5d.large | ml.m5d.xlarge | ml.m5d.2xlarge | ml.m5d.4xlarge | ml.m5d.8xlarge | ml.m5d.12xlarge | ml.m5d.16xlarge | ml.m5d.24xlarge | ml.g5.xlarge | ml.g5.2xlarge | ml.g5.4xlarge | ml.g5.8xlarge | ml.g5.12xlarge | ml.g5.16xlarge | ml.g5.24xlarge | ml.g5.48xlarge | ml.p4d.24xlarge | ml.p4de.24xlarge | ml.geospatial.interactive  \nUpdate requires: No interruption"
        },
        "SageMakerImageArn": {
          "type": "string",
          "description": "The ARN of the SageMaker image that the image version belongs to.",
          "maxLength": 256,
          "markdownDescription": "The ARN of the SageMaker image that the image version belongs to.\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 256  \nPattern: ^arn:aws(-[\\w]+)*:sagemaker:.+:[0-9]{12}:image/[a-z0-9]([-.]?[a-z0-9])*$  \nUpdate requires: No interruption"
        },
        "SageMakerImageVersionArn": {
          "type": "string",
          "description": "The ARN of the image version created on the instance.",
          "maxLength": 256,
          "markdownDescription": "The ARN of the image version created on the instance.\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 256  \nPattern: ^arn:aws(-[\\w]+)*:sagemaker:.+:[0-9]{12}:image-version/[a-z0-9]([-.]?[a-z0-9])*/[0-9]+$  \nUpdate requires: No interruption"
        }
      },
      "markdownDescription": "\n\n---\n\nRequired: No  \nUpdate requires: No interruption"
    },
    "KernelGatewayAppSettings": {
      "type": "object",
      "description": "The kernel gateway app settings.",
      "additionalProperties": false,
      "properties": {
        "CustomImages": {
          "type": "array",
          "description": "A list of custom SageMaker images that are configured to run as a KernelGateway app.",
          "uniqueItems": false,
          "minItems": 0,
          "maxItems": 30,
          "items": {
            "$ref": "#/definitions/CustomImage"
          },
          "markdownDescription": "A list of custom SageMaker images that are configured to run as a KernelGateway app.\n\n---\n\nRequired: No  \nType: Array  \nUpdate requires: No interruption"
        },
        "DefaultResourceSpec": {
          "$ref": "#/definitions/ResourceSpec",
          "description": "The default instance type and the Amazon Resource Name (ARN) of the default SageMaker image used by the KernelGateway app.",
          "markdownDescription": "The default instance type and the Amazon Resource Name (ARN) of the default SageMaker image used by the KernelGateway app.\n\n---\n\nRequired: No  \nType:   \nUpdate requires: No interruption"
        }
      },
      "markdownDescription": "The kernel gateway app settings.\n\n---\n\nRequired: No  \nUpdate requires: No interruption"
    },
    "CustomImage": {
      "type": "object",
      "description": "A custom SageMaker image.",
      "additionalProperties": false,
      "properties": {
        "AppImageConfigName": {
          "type": "string",
          "description": "The Name of the AppImageConfig.",
          "maxLength": 63,
          "markdownDescription": "The Name of the AppImageConfig.\n\n---\n\nRequired: Yes  \nType: String  \nMaximum Length: 63  \nPattern: ^[a-zA-Z0-9](-*[a-zA-Z0-9]){0,62}  \nUpdate requires: No interruption"
        },
        "ImageName": {
          "type": "string",
          "description": "The name of the CustomImage. Must be unique to your account.",
          "maxLength": 63,
          "markdownDescription": "The name of the CustomImage. Must be unique to your account.\n\n---\n\nRequired: Yes  \nType: String  \nMaximum Length: 63  \nPattern: ^[a-zA-Z0-9]([-.]?[a-zA-Z0-9]){0,62}$  \nUpdate requires: No interruption"
        },
        "ImageVersionNumber": {
          "type": "integer",
          "description": "The version number of the CustomImage.",
          "minimum": 0,
          "markdownDescription": "The version number of the CustomImage.\n\n---\n\nRequired: No  \nType: Integer  \nUpdate requires: No interruption"
        }
      },
      "required": [
        "AppImageConfigName",
        "ImageName"
      ],
      "markdownDescription": "A custom SageMaker image.\n\n---\n\nRequired: No  \nUpdate requires: No interruption"
    },
    "SharingSettings": {
      "type": "object",
      "description": "Specifies options when sharing an Amazon SageMaker Studio notebook. These settings are specified as part of DefaultUserSettings when the CreateDomain API is called, and as part of UserSettings when the CreateUserProfile API is called.",
      "additionalProperties": false,
      "properties": {
        "NotebookOutputOption": {
          "type": "string",
          "description": "Whether to include the notebook cell output when sharing the notebook. The default is Disabled.",
          "enum": [
            "Allowed",
            "Disabled"
          ],
          "markdownDescription": "Whether to include the notebook cell output when sharing the notebook. The default is Disabled.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: Allowed | Disabled  \nUpdate requires: No interruption"
        },
        "S3KmsKeyId": {
          "type": "string",
          "description": "When NotebookOutputOption is Allowed, the AWS Key Management Service (KMS) encryption key ID used to encrypt the notebook cell output in the Amazon S3 bucket.",
          "maxLength": 2048,
          "markdownDescription": "When NotebookOutputOption is Allowed, the AWS Key Management Service (KMS) encryption key ID used to encrypt the notebook cell output in the Amazon S3 bucket.\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 2048  \nPattern: .*  \nUpdate requires: No interruption"
        },
        "S3OutputPath": {
          "type": "string",
          "description": "When NotebookOutputOption is Allowed, the Amazon S3 bucket used to store the shared notebook snapshots.",
          "maxLength": 1024,
          "markdownDescription": "When NotebookOutputOption is Allowed, the Amazon S3 bucket used to store the shared notebook snapshots.\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 1024  \nPattern: ^(https|s3)://([^/]+)/?(.*)$  \nUpdate requires: No interruption"
        }
      },
      "markdownDescription": "Specifies options when sharing an Amazon SageMaker Studio notebook. These settings are specified as part of DefaultUserSettings when the CreateDomain API is called, and as part of UserSettings when the CreateUserProfile API is called.\n\n---\n\nRequired: No  \nUpdate requires: No interruption"
    },
    "Tag": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "Value": {
          "type": "string",
          "minLength": 1,
          "maxLength": 128,
          "markdownDescription": "\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 128  \nUpdate requires: No interruption"
        },
        "Key": {
          "type": "string",
          "minLength": 1,
          "maxLength": 128,
          "markdownDescription": "\n\n---\n\nRequired: Yes  \nType: String  \nMinimum Length: 1  \nMaximum Length: 128  \nUpdate requires: No interruption"
        }
      },
      "required": [
        "Key",
        "Value"
      ],
      "markdownDescription": "\n\n---\n\nRequired: No  \nUpdate requires: No interruption"
    },
    "RStudioServerProAppSettings": {
      "type": "object",
      "description": "A collection of settings that configure user interaction with the RStudioServerPro app.",
      "additionalProperties": false,
      "properties": {
        "AccessStatus": {
          "type": "string",
          "description": "Indicates whether the current user has access to the RStudioServerPro app.",
          "enum": [
            "ENABLED",
            "DISABLED"
          ],
          "markdownDescription": "Indicates whether the current user has access to the RStudioServerPro app.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: ENABLED | DISABLED  \nUpdate requires: No interruption"
        },
        "UserGroup": {
          "type": "string",
          "description": "The level of permissions that the user has within the RStudioServerPro app. This value defaults to User. The Admin value allows the user access to the RStudio Administrative Dashboard.",
          "enum": [
            "R_STUDIO_ADMIN",
            "R_STUDIO_USER"
          ],
          "markdownDescription": "The level of permissions that the user has within the RStudioServerPro app. This value defaults to User. The Admin value allows the user access to the RStudio Administrative Dashboard.\n\n---\n\nRequired: No  \nType: String  \nAllowed Values: R_STUDIO_ADMIN | R_STUDIO_USER  \nUpdate requires: No interruption"
        }
      },
      "markdownDescription": "A collection of settings that configure user interaction with the RStudioServerPro app.\n\n---\n\nRequired: No  \nUpdate requires: No interruption"
    }
  },
  "required": [
    "DomainId",
    "UserProfileName"
  ],
  "createOnlyProperties": [
    "/properties/DomainId",
    "/properties/UserProfileName",
    "/properties/SingleSignOnUserIdentifier",
    "/properties/SingleSignOnUserValue",
    "/properties/UserSettings/RStudioServerProAppSettings/AccessStatus",
    "/properties/UserSettings/RStudioServerProAppSettings/UserGroup",
    "/properties/Tags"
  ],
  "writeOnlyProperties": [
    "/properties/Tags"
  ],
  "primaryIdentifier": [
    "/properties/UserProfileName",
    "/properties/DomainId"
  ],
  "readOnlyProperties": [
    "/properties/UserProfileArn"
  ],
  "handlers": {
    "create": {
      "permissions": [
        "sagemaker:CreateUserProfile",
        "sagemaker:DescribeUserProfile",
        "sagemaker:DescribeImage",
        "sagemaker:DescribeImageVersion",
        "iam:PassRole"
      ]
    },
    "read": {
      "permissions": [
        "sagemaker:DescribeUserProfile"
      ]
    },
    "update": {
      "permissions": [
        "sagemaker:UpdateUserProfile",
        "sagemaker:DescribeUserProfile",
        "sagemaker:DescribeImage",
        "sagemaker:DescribeImageVersion",
        "iam:PassRole"
      ]
    },
    "delete": {
      "permissions": [
        "sagemaker:DeleteUserProfile",
        "sagemaker:DescribeUserProfile"
      ]
    },
    "list": {
      "permissions": [
        "sagemaker:ListUserProfiles"
      ]
    }
  },
  "attributes": {
    "UserProfileArn": {
      "type": "string",
      "description": "The user profile Amazon Resource Name (ARN).",
      "maxLength": 256,
      "markdownDescription": "The user profile Amazon Resource Name (ARN).\n\n---\n\nRequired: No  \nType: String  \nMaximum Length: 256  \nPattern: arn:aws[a-z\\-]*:sagemaker:[a-z0-9\\-]*:[0-9]{12}:user-profile/.*  \nUpdate requires: No interruption"
    }
  }
}